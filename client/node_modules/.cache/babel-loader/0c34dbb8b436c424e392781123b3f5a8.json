{"ast":null,"code":"var _jsxFileName = \"/Users/sharleneminosa/Desktop/Bootcamp/projects/project-space/client/src/pages/JobSearch.js\";\nimport React from \"react\";\nimport JobForm from \"../components/JobForm\";\nimport JobAPI from \"../utils/JobAPI\";\nimport Paper from '@material-ui/core/Paper';\n\nfunction JobSearch() {\n  const [title, setTitle] = useState(\"\");\n  const [post, setPost] = useState(\"\");\n  const [distance, setDistance] = useState(0);\n  const [query, setQuery] = useState(\"\");\n  const [jobs, setJobs] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    searchJobs(search);\n  }, [search]);\n\n  const searchJobs = search => {\n    JobAPI.search(search).then(res => {\n      console.log(res);\n\n      if (res.data.length === 0) {\n        throw new Error(\"No job results found.\");\n      }\n\n      setJobs(res.data);\n    }).catch(err => setError(err));\n  };\n\n  const handleTitleChange = event => {\n    const newTitle = event.target.value;\n    setTitle(newTitle);\n    searchQuery();\n  };\n\n  const handlePostChange = event => {\n    const newPost = event.target.value;\n    setPost(newPost);\n    setQuery();\n  };\n\n  const handleDistChange = event => {\n    const newDistance = event.target.value;\n    setDistance(newDistance);\n    setQuery();\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    createQuery();\n  };\n\n  const createQuery = () => {\n    const titlequery = \"job-title=\" + title;\n    const postquery = title ? \"&postal-code=\" + post : \"postal-code=\" + post;\n    const distquery = \"&distance=\" + distance;\n    let newQuery = \"\";\n    title ? newQuery += titlequery : newQuery;\n    post ? newQuery += postquery : newQuery;\n    distance ? newQuery += distquery : newQuery;\n    searchJobs(newQuery);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Image/Video Gallery\"), /*#__PURE__*/React.createElement(JobForm, {\n    handleTitleChange: handleTitleChange,\n    handlePostChange: handlePostChange,\n    handleDistChange: handleDistChange,\n    handleFormSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, jobs.map(job => {\n    /*#__PURE__*/\n    React.createElement(JobResult, {\n      name: job.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    });\n  }))));\n}\n\nexport default JobSearch;","map":{"version":3,"sources":["/Users/sharleneminosa/Desktop/Bootcamp/projects/project-space/client/src/pages/JobSearch.js"],"names":["React","JobForm","JobAPI","Paper","JobSearch","title","setTitle","useState","post","setPost","distance","setDistance","query","setQuery","jobs","setJobs","error","setError","useEffect","searchJobs","search","then","res","console","log","data","length","Error","catch","err","handleTitleChange","event","newTitle","target","value","searchQuery","handlePostChange","newPost","handleDistChange","newDistance","handleFormSubmit","preventDefault","createQuery","titlequery","postquery","distquery","newQuery","map","job"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport JobForm from \"../components/JobForm\";\nimport JobAPI from \"../utils/JobAPI\";\nimport Paper from '@material-ui/core/Paper';\n\nfunction JobSearch() {\n    const [title, setTitle] = useState(\"\");\n    const [post, setPost] = useState(\"\");\n    const [distance, setDistance] = useState(0);\n    const [query, setQuery] = useState(\"\");\n    const [jobs, setJobs] = useState([]);\n    const [error, setError] = useState(\"\");\n  \n    useEffect(() => {\n      searchJobs(search);\n    }, [search]);\n\n    const searchJobs = search => {\n        JobAPI.search(search)\n        .then(res => {\n            console.log(res);\n            if (res.data.length === 0) {\n                throw new Error(\"No job results found.\");\n            }\n            setJobs(res.data);\n        })\n        .catch(err => setError(err));\n    }\n  \n    const handleTitleChange = event => {\n        const newTitle = event.target.value;\n        setTitle(newTitle);\n        searchQuery();\n    };\n    const handlePostChange = event => {\n        const newPost = event.target.value;\n        setPost(newPost);\n        setQuery();\n    };\n    const handleDistChange = event => {\n        const newDistance = event.target.value;\n        setDistance(newDistance);\n        setQuery();\n    };\n\n    const handleFormSubmit = event => {\n        event.preventDefault();\n        createQuery();\n    };\n\n    const createQuery = () => {\n        const titlequery = \"job-title=\" + title;\n        const postquery = title ? (\"&postal-code=\" + post) : (\"postal-code=\" + post);\n        const distquery = \"&distance=\" + distance;\n        let newQuery = \"\";\n        title ? newQuery += titlequery : newQuery;\n        post ? newQuery += postquery : newQuery;\n        distance ? newQuery += distquery : newQuery;\n\n        searchJobs(newQuery);\n    }\n  \n    return (\n      <div>\n        <Paper>\n            <h1>Image/Video Gallery</h1>\n            <JobForm\n            handleTitleChange={handleTitleChange}\n            handlePostChange={handlePostChange}\n            handleDistChange={handleDistChange}\n            handleFormSubmit={handleFormSubmit}\n            />\n          <List>\n              {jobs.map(job => {\n                  <JobResult name={job.title} />\n              })}\n          </List>\n        </Paper>\n      </div>\n    );\n  }\n  \n  export default JobSearch;\n"]},"metadata":{},"sourceType":"module"}